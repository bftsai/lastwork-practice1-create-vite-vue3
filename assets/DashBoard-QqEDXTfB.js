import{S as i}from"./sweetalert2-EzyWTw20.js";import{_ as h,o as p,c as _,b as s,a as o,w as t,d as n,r,e as v,F as x}from"./index-PhRdil2F.js";import{L as u}from"./Loading-cR_otsKF.js";const $="https://ec-course-api.hexschool.io/",k={data(){return{}},methods:{async logout(){try{const e=(await this.axios.post(`${$}v2/logout`)).data;console.log(e),e.success&&(document.cookie="hexToken='';expires=Thu, 01 Jan 1970 00:00:00 UTC",i.fire({title:e.message,icon:"success",showConfirmButton:!1,timer:1500}),this.$router.push({name:"member"}))}catch(e){i.fire({title:e.response.message,icon:"error",showConfirmButton:!1,timer:1500}),document.cookie="hexToken='';expires=Thu, 01 Jan 1970 00:00:00 UTC",this.$router.push({name:"member"})}}},mounted(){}},T={class:"navbar navbar-expand-lg"},C={class:"container"},w=s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[s("span",{class:"navbar-toggler-icon"})],-1),L={class:"collapse navbar-collapse",id:"navbarNav"},N={class:"navbar-nav"},B={class:"nav-item"},y={class:"nav-item"},P={class:"nav-item"},J={class:"nav-item"};function U(e,c,f,b,m,l){const a=r("router-link");return p(),_("nav",T,[s("div",C,[o(a,{class:"navbar-brand",to:"/"},{default:t(()=>[n("首頁")]),_:1}),w,s("div",L,[s("ul",N,[s("li",B,[o(a,{class:"nav-link fs-md-4 fs-6",to:"/dashboard/products"},{default:t(()=>[n("Products")]),_:1})]),s("li",y,[o(a,{class:"nav-link fs-md-4 fs-6",to:"/dashboard/orders"},{default:t(()=>[n("Orders")]),_:1})]),s("li",P,[o(a,{class:"nav-link fs-md-4 fs-6",to:"/dashboard/coupon"},{default:t(()=>[n("Coupon")]),_:1})]),s("li",J,[s("a",{class:"nav-link fs-md-4 fs-6",onClick:c[0]||(c[0]=(...d)=>l.logout&&l.logout(...d))},"Log Out")])])])])])}const D=h(k,[["render",U]]),V="https://ec-course-api.hexschool.io/",F={data(){return{isLoading:!1}},emits:["emit-member","emit-dashboard-page"],components:{Navbar:D,Loading:u},provide(){return{emitter:v,Swal:i,Loading:u}},methods:{isMemberPage(){location.href.split("#/")[1]==="member"?this.$emit("emit-member",!1):this.$emit("emit-member",!0)},isDashboardPage(){this.$emit("emit-dashboard-page")},async logout(){try{this.isLoading=!0;const e=(await this.axios.post(`${V}v2/logout`)).data;console.log(e),this.isLoading=!1,e.success&&(document.cookie="hexToken='';expires=Thu, 01 Jan 1970 00:00:00 UTC",i.fire({title:e.message,icon:"success",showConfirmButton:!1,timer:1500}),this.$router.push("member"))}catch(e){console.log(e.response),this.isLoading=!1,document.cookie="hexToken='';expires=Thu, 01 Jan 1970 00:00:00 UTC",this.$router.push("member")}}},created(){this.isMemberPage(),this.isDashboardPage()}},M={class:"container-fluid"};function O(e,c,f,b,m,l){const a=r("Loading"),d=r("Navbar"),g=r("router-view");return p(),_(x,null,[o(a,{"prop-boolean":m.isLoading},null,8,["prop-boolean"]),o(d),s("div",M,[o(g)])],64)}const q=h(F,[["render",O]]);export{q as default};
